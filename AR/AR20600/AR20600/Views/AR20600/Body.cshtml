@using Ext.Net;
@using Ext.Net.MVC;
@using eBiz4DWebFrame;
@using eBiz4DWebFrame.HQControl;
@using AR20600;
@{
    Layout = null;
    var X = Html.X();
    var HQ = Html.HQ();
}
@(
 Html.X().Viewport().Layout(LayoutType.Fit)
.Items(
        X.FormPanel()
        .Layout(LayoutType.HBox)
        .ID("dataForm")
        //.TrackResetOnLoad(true)
        //.DefaultAnchor("100%")
        .AnchorVertical("100%")
        .AnchorHorizontal("100%")
        .AutoScroll(true)
        .BodyPadding(0)
        .TopBar(Util.SetupToolbar("Print",true))
        .FieldDefaults(act => { act.LabelAlign = LabelAlign.Right; act.LabelWidth = 150; })
        
        //.Listeners(itm => itm.AfterRender.Fn = "frmloadAfterRender")
        //.LayoutConfig(new HBoxLayoutConfig { Align = HBoxAlign.Stretch })
        .Items(

                             X.FormPanel()
                            .Layout(LayoutType.Anchor)
                            .ID("dataFormLeft")
                            //.AutoScroll(true)
                            .TrackResetOnLoad(true)
                            //.DefaultAnchor("100%")
                            .AnchorVertical("100%")
                            .AnchorHorizontal("100%")
                            .BodyPadding(10)
                            //.TopBar(Util.SetupToolbar("Print",true))
                            .FieldDefaults(act => { act.LabelAlign = LabelAlign.Right; act.LabelWidth = 150; })
                            .Items(
                            //X.Container().Layout(LayoutType.VBox).MarginSpec("0 0 5 0")
                            //.Items(
                                     HQ.Combo().ID("cboCustId").Name("cboCustId").HQLangCode("CUSTID").HQProcedure("ppv_Customer")
                                    .HQColumnShow("CustId,CustName,Addr1,Addr2").DisplayField("CustId").ValueField("CustId")
                                    .Width(350).HQHeightWidth(400, 500).MarginSpec("5 0 0 0").AllowBlank(false)
                                    .HQDBSys(false).MaxLength(50).EnforceMaxLength(true)
                                    .Triggers(new FieldTrigger() { Icon = TriggerIcon.Clear, HideTrigger = false })
                                    .HQParam(new StoreParameterCollection()
                                    {
                                        
                                        new StoreParameter() { Name = "@BranchID", Value = Current.CpnyID.ToString(), Mode = ParameterMode.Value }
                                       
                                        //new StoreParameter() { Name = "@Roles",  Value = @ViewBag.Roles, Mode = ParameterMode.Value },
                                        
                                    })
                                    .LoadData()
                                    .Listeners(lst =>
                                        {
                                            lst.TriggerClick.Handler = "if (index == 0) { this.clearValue();}";
                                            lst.Change.Fn = "cboCustID_Change";
                                           
                                        })
                    
                                    ,HQ.Combo().ID("cboShipToId").Name("cboShipToId").HQLangCode("SHIPTOID").HQProcedure("ppv_AR20600ShipToId")
                                    .HQColumnShow("ShipToId,Descr,SOName").DisplayField("ShipToId").ValueField("ShipToId")
                                    .Width(350).HQHeightWidth(400, 500).MarginSpec("5 0 0 0").AllowBlank(false)//.DataIndex("ShipToId")
                                    .HQDBSys(false).MaxLength(10).EnforceMaxLength(true)
                                    .Triggers(new FieldTrigger() { Icon = TriggerIcon.Clear, HideTrigger = false })
                                    .HQParam(new StoreParameterCollection()
                                    {
                                        new StoreParameter() { Name = "@CustId",  Value = "App.cboCustId.value", Mode = ParameterMode.Raw },
                                        new StoreParameter() { Name = "@BranchID", Value = Current.CpnyID.ToString(), Mode = ParameterMode.Value },
                                    })
                                    .LoadData()
                                    .Listeners(lst =>
                                        {
                                            lst.TriggerClick.Handler = "if (index == 0) { this.clearValue();}";
                                            lst.Change.Fn = "cboShipToId_Change";
                                            
                                        })
                        
                                    ,HQ.TextBox().ID("txtDescr").Name("txtDescr").HQLangCode("Descr").MarginSpec("5 20 0 0")
                                    .Width(400).MarginSpec("5 0 0 0").MaxLength(30).EnforceMaxLength(true).DataIndex("Descr")
                                    
                                    ,HQ.TextBox().ID("txtSOName").Name("txtSOName").HQLangCode("NAME")
                                    .Width(400).MarginSpec("5 0 0 0").MaxLength(200).EnforceMaxLength(true).DataIndex("SOName")
                                    
                                    ,HQ.TextBox().ID("txtAttn").Name("txtAttn").HQLangCode("ATTN")
                                    .Width(400).MarginSpec("5 0 0 0").MaxLength(200).EnforceMaxLength(true).DataIndex("Attn")
                                    
                                    ,HQ.TextBox().ID("txtAddr1").Name("txtAddr1").HQLangCode("ADDR1")
                                    .Width(400).MarginSpec("5 0 0 0").MaxLength(200).EnforceMaxLength(true).DataIndex("Addr1")
                                    
                                    ,HQ.TextBox().ID("txtAddr2").Name("txtAddr2").HQLangCode("ADDR2")
                                    .Width(400).MarginSpec("5 0 0 0").MaxLength(100).EnforceMaxLength(true).DataIndex("Addr2")
                                    
                                    ,HQ.Combo().ID("cboCountry").Name("cboCountry").HQLangCode("COUNTRY").HQProcedure("ppv_CountryID")
                                    .HQColumnShow("CountryID,Descr").DisplayField("CountryID").ValueField("CountryID").DataIndex("Country")
                                    .Width(300).HQHeightWidth(400, 500).MarginSpec("5 0 0 0")
                                    .HQDBSys(false).MaxLength(3).EnforceMaxLength(true).ForceSelection(true)
                                    .Triggers(new FieldTrigger() { Icon = TriggerIcon.Clear, HideTrigger = false })
                                    
                                    .LoadData()
                                    .Listeners(lst =>
                                    {
                                        lst.TriggerClick.Handler = "if (index == 0) { this.clearValue();}";
                                        lst.Change.Fn = "cboCountry_Change";
                                           
                                    })
                                    
                                    ,HQ.Combo().ID("cboState").Name("cboState").HQLangCode("STATE").HQProcedure("ppv_StateByCountry")
                                    .HQColumnShow("State,Descr").DisplayField("State").ValueField("State").DataIndex("State")
                                    .Width(300).HQHeightWidth(400, 500).MarginSpec("5 0 0 0")
                                    .HQDBSys(false).MaxLength(10).EnforceMaxLength(true).ForceSelection(true)
                                    .Triggers(new FieldTrigger() { Icon = TriggerIcon.Clear, HideTrigger = false })
                                    .HQParam(new StoreParameterCollection()
                                    {
                                         new StoreParameter() { Name = "@Country",  Value = "App.cboCountry.getValue()", Mode = ParameterMode.Raw },
                                        //new StoreParameter() { Name = "@Roles",  Value = @ViewBag.Roles, Mode = ParameterMode.Value },
                                    })
                                    .LoadData()
                                    .Listeners(lst =>
                                    {
                                        lst.TriggerClick.Handler = "if (index == 0) { this.clearValue();}";
                                        lst.Change.Fn = "cboState_Change";
                                           
                                    })
                                    
                                    ,HQ.Combo().ID("cboCity").Name("cboCity").HQLangCode("CITY").HQProcedure("ppv_CityByCountryState")
                                    .HQColumnShow("City,Name").DisplayField("City").ValueField("City").DataIndex("City")
                                    .Width(300).HQHeightWidth(400, 500).MarginSpec("5 0 0 0")
                                    .HQDBSys(false).MaxLength(10).EnforceMaxLength(true).ForceSelection(true)
                                    .Triggers(new FieldTrigger() { Icon = TriggerIcon.Clear, HideTrigger = false })
                                    .HQParam(new StoreParameterCollection()
                                    {
                                         new StoreParameter() { Name = "@Country",  Value = "App.cboCountry.value", Mode = ParameterMode.Raw },
                                        new StoreParameter() { Name = "@State",  Value = "App.cboState.value", Mode = ParameterMode.Raw },
                                    })
                                    .LoadData()
                                    .Listeners(lst =>
                                    {
                                        lst.TriggerClick.Handler = "if (index == 0) { this.clearValue();}";
                                        //lst.Change.Fn = "cboCustID_Change";
                                           
                                    })
                                    
                                    ,HQ.Combo().ID("cboDistrict").Name("cboDistrict").HQLangCode("DISTRICT").HQProcedure("ppv_DistrictByCountryState")
                                    .HQColumnShow("District,Name").DisplayField("District").ValueField("District").DataIndex("District")
                                    .Width(300).HQHeightWidth(400, 500).MarginSpec("5 0 0 0")
                                    .HQDBSys(false).MaxLength(10).EnforceMaxLength(true).ForceSelection(true)
                                    .Triggers(new FieldTrigger() { Icon = TriggerIcon.Clear, HideTrigger = false })
                                    .HQParam(new StoreParameterCollection()
                                    {
                                         new StoreParameter() { Name = "@Country",  Value = "App.cboCountry.value", Mode = ParameterMode.Raw },
                                        new StoreParameter() { Name = "@State",  Value = "App.cboState.value", Mode = ParameterMode.Raw },
                                    })
                                    .LoadData()
                                    .Listeners(lst =>
                                    {
                                        lst.TriggerClick.Handler = "if (index == 0) { this.clearValue();}";
                                        //lst.Change.Fn = "cboCustID_Change";
                                           
                                    })
                                    
                                    ,HQ.TextBox().ID("txtZip").Name("txtZip").HQLangCode("ZIP")
                                    .Width(300).MarginSpec("5 0 0 0").MaxLength(10).EnforceMaxLength(true).DataIndex("Zip")
                                    
                                    ,HQ.TextBox().ID("txtPhone").Name("txtPhone").HQLangCode("PHONE")
                                    .Width(300).MarginSpec("5 0 0 0").MaxLength(30).EnforceMaxLength(true).DataIndex("Phone")
                                    
                                    ,HQ.TextBox().ID("txtFax").Name("txtFax").HQLangCode("FAX")
                                    .Width(300).MarginSpec("5 0 0 0").MaxLength(30).EnforceMaxLength(true).DataIndex("Fax")
                                    
                                    
                            )

                
                            , X.FormPanel()
                            .Layout(LayoutType.Anchor)
                            .ID("dataFormRight")
                            //.AutoScroll(true)
                            .TrackResetOnLoad(true)
                            //.DefaultAnchor("100%")
                            .AnchorVertical("100%")
                            .AnchorHorizontal("100%")
                            
                            //.TopBar(Util.SetupToolbar("Print",true))
                            .FieldDefaults(act => { act.LabelAlign = LabelAlign.Right; act.LabelWidth = 150; })
                
                            .Items(
                            //,X.Container().Layout(LayoutType.VBox).MarginSpec("0 0 5 0")
                            //.Items(
                                    
                                    HQ.Combo().ID("cboSiteId").Name("cboSiteId").HQLangCode("SITEID").HQProcedure("ppv_SiteAll")
                                    .HQColumnShow("SiteID,Name").DisplayField("SiteID").ValueField("SiteID").DataIndex("SiteId")
                                    .Width(300).HQHeightWidth(400, 500).MarginSpec("5 0 0 0")
                                    .HQDBSys(false).MaxLength(10).EnforceMaxLength(true).ForceSelection(true)
                                    .Triggers(new FieldTrigger() { Icon = TriggerIcon.Clear, HideTrigger = false })
                                    .HQParam(new StoreParameterCollection()
                                    {
                                          new StoreParameter() { Name = "@BranchID", Value = Current.CpnyID.ToString(), Mode = ParameterMode.Value }
                                        
                                    })
                                    .LoadData()
                                    .Listeners(lst =>
                                    {
                                        lst.TriggerClick.Handler = "if (index == 0) { this.clearValue();}";
                                        //lst.Change.Fn = "cboCustID_Change";
                                           
                                    })
                
                                    
                                    ,HQ.Combo().ID("cboShipViaID").Name("cboShipViaID").HQLangCode("SHIPVIAID").HQProcedure("ppv_ShipViaID")
                                    .HQColumnShow("ShipViaID,Descr").DisplayField("ShipViaID").ValueField("ShipViaID").DataIndex("ShipViaID")
                                    .Width(300).HQHeightWidth(400, 500).MarginSpec("5 0 20 0")
                                    .HQDBSys(false).MaxLength(10).EnforceMaxLength(true).ForceSelection(true)
                                    .Triggers(new FieldTrigger() { Icon = TriggerIcon.Clear, HideTrigger = false })
                                    .LoadData()
                                    .Listeners(lst =>
                                    {
                                        lst.TriggerClick.Handler = "if (index == 0) { this.clearValue();}";
                                        //lst.Change.Fn = "cboCustID_Change";
                                           
                                    })
                                    
                                    ,X.FormPanel()
                                    .Layout(LayoutType.Anchor)
                                    .ID("dataFormRightInside")
                                    .Title("Tax (Thue)")
                                    //.AutoScroll(true)
                                    .TrackResetOnLoad(true)
                                    //.DefaultAnchor("100%")
                                    .AnchorVertical("100%")
                                    .AnchorHorizontal("100%")
                                    .BodyPadding(5)
                                    //.TopBar(Util.SetupToolbar("Print",true))
                                    .FieldDefaults(act => { act.LabelAlign = LabelAlign.Right; act.LabelWidth = 150; })
                                    //.MarginSpec("0 0 0 20")
                                    .Items(
                                    
                                        HQ.TextBox().ID("txtTaxRegNbr").Name("txtTaxRegNbr").HQLangCode("TAXREGNBR")
                                        .Width(370).MarginSpec("5 0 0 0").MaxLength(15).EnforceMaxLength(true).DataIndex("TaxRegNbr")
                                        
                                        ,HQ.TextBox().ID("txtTaxLocId").Name("txtTaxLocId").HQLangCode("TAXLOCID")
                                        .Width(370).MarginSpec("5 0 0 0").MaxLength(15).EnforceMaxLength(true).DataIndex("TaxLocId")  
                                    
                                        ,HQ.Combo().ID("cboTaxID00").Name("cboTaxID00").HQLangCode("RateTax00").HQProcedure("ppv_TaxAll")
                                        .HQColumnShow("TaxID,Descr,TaxRate").DisplayField("TaxID").ValueField("TaxID").DataIndex("TaxId00")
                                        .Width(300).HQHeightWidth(400, 500).MarginSpec("5 0 0 0")
                                        .HQDBSys(false).MaxLength(10).EnforceMaxLength(true).ForceSelection(true)
                                        .Triggers(new FieldTrigger() { Icon = TriggerIcon.Clear, HideTrigger = false })
                                        .LoadData()
                                        .Listeners(lst =>
                                        {
                                            lst.TriggerClick.Handler = "if (index == 0) { this.clearValue();}";
                                            //lst.Change.Fn = "cboCustID_Change";
                                           
                                        })
                                    
                                        ,HQ.Combo().ID("cboTaxID01").Name("cboTaxID01").HQLangCode("RateTax01").HQProcedure("ppv_TaxAll")
                                        .HQColumnShow("TaxID,Descr,TaxRate").DisplayField("TaxID").ValueField("TaxID").DataIndex("TaxId01")
                                        .Width(300).HQHeightWidth(400, 500).MarginSpec("5 0 0 0")
                                        .HQDBSys(false).MaxLength(10).EnforceMaxLength(true).ForceSelection(true)
                                        .Triggers(new FieldTrigger() { Icon = TriggerIcon.Clear, HideTrigger = false })
                                        .LoadData()
                                        .Listeners(lst =>
                                        {
                                            lst.TriggerClick.Handler = "if (index == 0) { this.clearValue();}";
                                            //lst.Change.Fn = "cboCustID_Change";
                                           
                                        })
                                        
                                        ,HQ.Combo().ID("cboTaxID02").Name("cboTaxID02").HQLangCode("RateTax02").HQProcedure("ppv_TaxAll")
                                        .HQColumnShow("TaxID,Descr,TaxRate").DisplayField("TaxID").ValueField("TaxID").DataIndex("TaxId02")
                                        .Width(300).HQHeightWidth(400, 500).MarginSpec("5 0 0 0")
                                        .HQDBSys(false).MaxLength(10).EnforceMaxLength(true).ForceSelection(true)
                                        .Triggers(new FieldTrigger() { Icon = TriggerIcon.Clear, HideTrigger = false })
                                        .LoadData()
                                        .Listeners(lst =>
                                        {
                                            lst.TriggerClick.Handler = "if (index == 0) { this.clearValue();}";
                                            //lst.Change.Fn = "cboCustID_Change";
                                           
                                        })
                                        
                                        ,HQ.Combo().ID("cboTaxID03").Name("cboTaxID03").HQLangCode("RateTax03").HQProcedure("ppv_TaxAll")
                                        .HQColumnShow("TaxID,Descr,TaxRate").DisplayField("TaxID").ValueField("TaxID").DataIndex("TaxId03")
                                        .Width(300).HQHeightWidth(400, 500).MarginSpec("5 0 0 0")
                                        .HQDBSys(false).MaxLength(10).EnforceMaxLength(true).ForceSelection(true)
                                        .Triggers(new FieldTrigger() { Icon = TriggerIcon.Clear, HideTrigger = false })
                                        .LoadData()
                                        .Listeners(lst =>
                                        {
                                            lst.TriggerClick.Handler = "if (index == 0) { this.clearValue();}";
                                            //lst.Change.Fn = "cboCustID_Change";
                                           
                                        })
                                    )
                            )
                
            
                
        )





     )
)
